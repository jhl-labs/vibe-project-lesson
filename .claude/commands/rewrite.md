MDX 교육 페이지를 점검하고 다시 작성합니다.

대상 파일: $ARGUMENTS

---

## 작업 절차

아래 단계를 **순서대로, 빠짐없이** 수행합니다. 단계를 건너뛰지 마세요.

---

### 1단계: 대상 파일 확정

- `$ARGUMENTS`가 비어있으면 `src/chapters/**/*.mdx` 전체를 대상으로 합니다.
- 대상 파일 목록을 출력합니다.

---

### 2단계: 현재 내용 읽기

- 대상 MDX 파일을 **모두** 읽습니다.
- 각 파일에서 **팩트체크가 필요한 항목**을 추출합니다:
  - 날짜 (출시일, 이벤트 날짜 등)
  - 수치/통계 (사용자 수, 비율, 금액 등)
  - 인물/인용문
  - 기술 버전/기능 설명
  - 도구 비교 정보
- 동시에 **출처가 누락된 주장**을 식별합니다:
  - 구체적 수치/통계가 있지만 출처가 없는 경우
  - 특정 기업/조직의 발표를 인용하지만 링크가 없는 경우
  - 논문, 보고서, 조사 결과를 언급하지만 원문 참조가 없는 경우

---

### 3단계: 팩트체크 및 출처 수집 (가장 중요한 단계)

**모든 사실 정보를 웹 검색으로 개별 검증하고, 출처 URL을 반드시 수집합니다.**

검증 규칙:
- 하나의 수치/날짜에 대해 **최소 2개 이상의 소스**에서 교차 확인합니다.
- 검색 결과가 상충하면, **공식 소스**(공식 블로그, 공식 문서, 공식 트위터)를 우선합니다.
- 검증할 수 없는 수치는 **제거하거나 출처를 명시**합니다.
- "대략", "약" 같은 표현을 사용하지 말고, 정확한 수치를 사용합니다.

출처 수집 규칙:
- 검증에 사용한 **원본 URL을 반드시 기록**합니다.
- 출처 우선순위: 공식 블로그/문서 > 논문/보고서 > 주요 언론(TechCrunch, Ars Technica, The Verge 등) > 기술 블로그
- 논문이나 유명 조사 보고서(Stack Overflow Survey, Gartner, Forrester 등)의 경우 **정식 명칭과 발표일**도 함께 기록합니다.
- X(트위터) 게시물이 원본 출처인 경우 해당 트윗 URL을 기록합니다.

팩트체크 결과를 **마크다운 테이블로 정리**하여 사용자에게 보여줍니다:

```
| # | 파일:라인 | 주장 | 검증된 값 | 출처 URL | 조치 |
|---|----------|------|-----------|----------|------|
| 1 | 01-xxx.mdx:33 | Copilot 2,000만 사용자 | 확인 | https://blogs.microsoft.com/... | ✅ 정확 |
| 2 | 01-xxx.mdx:68 | Replit 3,000만 사용자 | 4,000만 | https://techcrunch.com/... | 🔧 수정 |
| 3 | 02-xxx.mdx:20 | 176건 업데이트 | 검증 불가 | - | ⚠️ 출처 필요 또는 제거 |
```

이 테이블을 사용자에게 보여주고 **승인을 받은 후** 다음 단계로 진행합니다.

---

### 4단계: 프로젝트 전체 정합성 검사

수정할 사실 정보가 확정되면, **해당 내용이 다른 파일에도 존재하는지** 반드시 확인합니다.

```
# 예: "3,000만"을 수정해야 한다면
grep -r "3,000만" src/chapters/
grep -r "3000만" src/chapters/

# 예: "Ctrl+G"를 제거해야 한다면
grep -r "Ctrl+G" src/chapters/

# 예: "2025.11"을 "2025.10"으로 바꿔야 한다면
grep -r "2025.11" src/chapters/  # (문맥에 따라 판단)
```

**같은 사실이 여러 파일에 있으면 모든 파일을 한 번에 수정합니다.**
대상 파일이 아닌 곳에도 해당 정보가 있으면 함께 수정합니다.

---

### 5단계: 수정 적용 및 출처 인용 추가

수정 사항을 적용하고, **출처 인용을 보강**합니다.

#### 출처 인용 규칙

MDX 본문에서 구체적 수치/통계/발표를 언급할 때, 아래 기준에 따라 출처를 추가합니다:

**인용이 필요한 경우:**
- 특정 조직이 발표한 통계/수치 (예: "Stack Overflow 2025 Survey에 따르면 84%")
- 논문/보고서의 결과 인용 (예: Gartner, Forrester, Veracode 리포트)
- CEO/CTO 등 특정 인물의 발언 인용
- 특정 날짜의 이벤트/발표 (예: "2025년 11월 6일 Collins 사전이 선정")
- 유명 언론의 보도 내용 인용 (예: Fast Company, TechCrunch)

**인용이 불필요한 경우:**
- 일반적인 기술 설명 (예: "MCP는 JSON-RPC 2.0 기반")
- 도구의 기본 기능 설명 (예: "Claude Code는 파일 시스템에 접근할 수 있습니다")
- 코딩 컨벤션, 모범 사례 등 주관적 가이드

#### 출처 표기 형식

ComparisonTable 또는 마크다운 테이블의 셀 내에서:
```
'출처 이름 (날짜)'
```
이미 출처 열이 있는 테이블은 해당 열에 정보를 보강합니다.

본문 텍스트에서 인용 시:
```
**[출처명](URL)**에 따르면 ...
```
또는
```
... 이라고 보고했습니다 ([출처명](URL)).
```

Callout 내에서 출처 강조 시:
```
<Callout type="info" title="제목">
  내용... ([출처명](URL))
</Callout>
```

#### 기타 적용 규칙
- 기존 컴포넌트 활용: Callout, CodeBlock, ComparisonTable, Timeline, MermaidDiagram, PlotlyChart, DataTable, FileTree, ChapterNav, TemplateFileViewer
- 기존 ChapterNav의 prev/next 경로를 **절대 변경하지 않음**
- Meta title을 **절대 변경하지 않음**
- 한국어로 작성
- 기존 디자인/스타일 패턴을 따름
- Quiz 컴포넌트를 사용하지 않음 (발견 시 제거)
- 시스템 사용자명, IP, 호스트 정보를 노출하지 않음
- 검증되지 않은 통계나 수치를 사용하지 않음

콘텐츠 품질 기준:
- 교육 자료로서 구조가 명확한가?
- 실용적이고 구체적인 정보가 포함되어 있는가?
- 추상적인 설명보다 구체적 사례/수치가 있는가?
- 불필요하게 반복되는 내용이 없는가?
- **주요 통계/수치에 출처가 명시되어 있는가?**

---

### 6단계: 빌드 검증

수정이 완료되면 **반드시** Storybook 빌드를 실행합니다:

```bash
npm run build-storybook 2>&1 | tail -5
```

- 빌드가 실패하면 에러를 수정하고 다시 빌드합니다.
- MDX에서 JSX 표현식 내 따옴표 이스케이프에 주의합니다:
  - ❌ `'Prefill Claude\\'s response'` — MDX에서 동작하지 않음
  - ✅ `"Prefill Claude's response"` — 큰따옴표로 감싸기
- 마크다운 링크 `[text](url)` 문법이 MDX/JSX 내에서 깨지지 않는지 확인합니다.
- **빌드가 성공할 때까지 커밋하지 않습니다.**

---

### 7단계: 최종 정합성 재확인

빌드 성공 후, 수정한 모든 항목에 대해 프로젝트 전체에서 grep으로 **잔여 오류가 없는지** 최종 확인합니다.

```bash
# 수정 전 값이 남아있지 않은지 확인
# 예: "3,000만"을 "4,000만"으로 고쳤다면
grep -r "3,000만" src/chapters/  # 결과가 없어야 함
```

---

### 8단계: Git commit & push

모든 검증이 통과하면 커밋합니다.

커밋 메시지에 **주요 수정 사항을 구체적으로 나열**합니다:

```
fix: /rewrite 팩트체크 — [대상 범위]

- [항목1]: [이전값] → [수정값] (출처 URL)
- [항목2]: 출처 인용 추가 — [어떤 통계]에 [출처명] 링크 추가
...
```

---

## 실행 예시

아래는 `/rewrite Part 1` 실행 시의 동작 흐름입니다:

```
> /rewrite Part 1

━━━ 1단계: 대상 파일 확정 ━━━
대상: src/chapters/01-foundations/ (5개 파일)
  - 01-what-is-vibe-coding.mdx
  - 02-what-is-claude-code.mdx
  - 03-claude-md-deep-dive.mdx
  - 04-enterprise-security.mdx
  - 05-prompt-engineering.mdx

━━━ 2단계: 현재 내용 읽기 ━━━
5개 파일 읽기 완료. 팩트체크 대상 추출 중...
  - 날짜/이벤트: 12건
  - 수치/통계: 18건
  - 도구 비교: 3건
  - 출처 누락 의심: 4건

━━━ 3단계: 팩트체크 및 출처 수집 ━━━
웹 검색으로 검증 중... (4개 병렬 검색)

| # | 파일:라인 | 주장 | 검증된 값 | 출처 URL | 조치 |
|---|----------|------|-----------|----------|------|
| 1 | 01-xxx.mdx:33 | Copilot 2,000만 사용자 | 확인 | https://blogs.microsoft.com/... | ✅ 정확 |
| 2 | 01-xxx.mdx:68 | Replit 3,000만 사용자 | 4,000만 | https://techcrunch.com/... | 🔧 수정 |
| 3 | 01-xxx.mdx:90 | Lovable 1,645개 앱 취약점 | 확인 | https://www.semafor.com/... | ✅ 정확 + 출처 링크 추가 |
| 4 | 04-xxx.mdx:305 | Azure Foundry | Microsoft Foundry | https://azure.microsoft.com/... | 🔧 수정 |

위 변경사항을 적용할까요? (y/n)

━━━ 4단계: 정합성 검사 ━━━
grep으로 프로젝트 전체 확인 중...
  "3,000만" → 2개 파일에서 발견 → 모두 수정 대상

━━━ 5단계: 수정 적용 및 출처 인용 추가 ━━━
  ✓ 01-what-is-vibe-coding.mdx — Replit 수치 수정, Lovable 출처 링크 추가
  ✓ 04-enterprise-security.mdx — Microsoft Foundry로 수정

━━━ 6단계: 빌드 검증 ━━━
$ npm run build-storybook
  ✓ 빌드 성공

━━━ 7단계: 최종 정합성 재확인 ━━━
  grep "3,000만" → 결과 없음 ✓
  grep "Azure Foundry" → 결과 없음 ✓

━━━ 8단계: Git commit & push ━━━
fix: /rewrite 팩트체크 — Part 1

- Replit 사용자: 3,000만 → 4,000만 (https://techcrunch.com/...)
- Azure Foundry → Microsoft Foundry (https://azure.microsoft.com/...)
- Lovable 취약점: 출처 링크 추가 (Semafor 보도)
```
