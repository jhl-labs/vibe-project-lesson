import { Meta } from '@storybook/addon-docs/blocks';
import { Callout } from '../../components/Callout';
import { CodeBlock } from '../../components/CodeBlock';
import { TemplateFileViewer } from '../../components/TemplateFileViewer';
import { ComparisonTable } from '../../components/ComparisonTable';
import { MermaidDiagram } from '../../components/MermaidDiagram';
import { ChapterNav } from '../../components/ChapterNav';
import { templateFiles } from '../../data/template-files';

<Meta title="Part 4: MCPì™€ í†µí•©/MCP ê°œìš”" />

# MCP (Model Context Protocol) ê°œìš”

> AI ì—ì´ì „íŠ¸ì˜ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” í‘œì¤€ í”„ë¡œí† ì½œ

## MCPë€?

**MCP(Model Context Protocol)**ëŠ” Anthropicì´ 2024ë…„ ë§ ê³µê°œí•œ **ê°œë°©í˜• í‘œì¤€ í”„ë¡œí† ì½œ**ë¡œ, AI ì—ì´ì „íŠ¸ê°€ ì™¸ë¶€ ë„êµ¬ ë° ì„œë¹„ìŠ¤ì™€ **JSON-RPC 2.0** ê¸°ë°˜ìœ¼ë¡œ ì–‘ë°©í–¥ í†µì‹ í•©ë‹ˆë‹¤. Claude Codeë¿ ì•„ë‹ˆë¼ Cursor, GitHub Copilot ë“± ì£¼ìš” AI ì½”ë”© ë„êµ¬ê°€ MCPë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

<Callout type="info" title="ë¹„ìœ ">
  MCPëŠ” AI ì—ì´ì „íŠ¸ì˜ "USB í¬íŠ¸"ì™€ ê°™ìŠµë‹ˆë‹¤.
  ë‹¤ì–‘í•œ ë„êµ¬(MCP ì„œë²„)ë¥¼ ê½‚ì•„ì„œ AIì˜ ëŠ¥ë ¥ì„ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

## êµ¬ì¡°

<MermaidDiagram
  chart={`flowchart LR
    CC["ğŸ¤– Claude Code<br/>(MCP Client)"]
    FS["ğŸ“ Filesystem<br/>Server"]
    GIT["ğŸ”€ Git<br/>Server"]
    GH["ğŸ™ GitHub<br/>Server"]
    DB["ğŸ’¾ Database<br/>Server"]
    FE["ğŸŒ Fetch<br/>Server"]
    CC <-->|MCP Protocol| FS
    CC <-->|MCP Protocol| GIT
    CC <-->|MCP Protocol| GH
    CC <-->|MCP Protocol| DB
    CC <-->|MCP Protocol| FE
    style CC fill:#da7756,stroke:#c4613e,color:#fff
    style FS fill:#fdf2ee,stroke:#16a34a,color:#2d2a26
    style GIT fill:#fdf2ee,stroke:#16a34a,color:#2d2a26
    style GH fill:#fdf2ee,stroke:#d97706,color:#2d2a26
    style DB fill:#fdf2ee,stroke:#dc2626,color:#2d2a26
    style FE fill:#fdf2ee,stroke:#2563eb,color:#2d2a26`}
  title="MCP ì•„í‚¤í…ì²˜"
  caption="Claude Codeê°€ MCP í”„ë¡œí† ì½œì„ í†µí•´ ë‹¤ì–‘í•œ ì™¸ë¶€ ë„êµ¬ ì„œë²„ì™€ ì–‘ë°©í–¥ í†µì‹ í•©ë‹ˆë‹¤"
/>

<MermaidDiagram
  chart={`sequenceDiagram
    participant U as ğŸ‘¤ ì‚¬ìš©ì
    participant CC as ğŸ¤– Claude Code
    participant MCP as MCP Server
    participant EXT as ğŸ”§ ì™¸ë¶€ ì‹œìŠ¤í…œ
    U->>CC: ì‘ì—… ìš”ì²­
    CC->>CC: ì»¨í…ìŠ¤íŠ¸ ë¶„ì„
    CC->>MCP: Tool í˜¸ì¶œ (JSON-RPC)
    MCP->>EXT: API í˜¸ì¶œ / ëª…ë ¹ ì‹¤í–‰
    EXT-->>MCP: ê²°ê³¼ ë°˜í™˜
    MCP-->>CC: Tool ê²°ê³¼ (JSON-RPC)
    CC->>CC: ê²°ê³¼ ê¸°ë°˜ ì¶”ë¡ 
    CC-->>U: ì‘ë‹µ (ì½”ë“œ/ì„¤ëª…)`}
  title="MCP í†µì‹  íë¦„"
  caption="ì‚¬ìš©ì ìš”ì²­ â†’ Claude Code ë¶„ì„ â†’ MCP ì„œë²„ í˜¸ì¶œ â†’ ì™¸ë¶€ ì‹œìŠ¤í…œ ì‘ì—… â†’ ê²°ê³¼ ë°˜í™˜"
/>

## .mcp.json ì„¤ì •

MCP ì„œë²„ ì„¤ì •ì€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ `.mcp.json` íŒŒì¼ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.

<TemplateFileViewer
  filename=".mcp.json.example"
  content={templateFiles['.mcp.json.example']}
  language="json"
  annotations={[
    { lineStart: 1, lineEnd: 2, text: 'ì„¤ì • íŒŒì¼ì€ .mcp.json.exampleë¡œ ì œê³µë©ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš© ì‹œ .mcp.jsonìœ¼ë¡œ ë³µì‚¬í•˜ê³  í”„ë¡œì íŠ¸ì— ë§ê²Œ ìˆ˜ì •í•©ë‹ˆë‹¤.' },
    { lineStart: 3, lineEnd: 9, text: 'Filesystem MCP ì„œë²„ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì„ ì½ê³  ì“¸ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.' },
    { lineStart: 10, lineEnd: 14, text: 'Git MCP ì„œë²„ì…ë‹ˆë‹¤. ì»¤ë°‹, ë¸Œëœì¹˜, íˆìŠ¤í† ë¦¬ ë“± Git ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.' },
    { lineStart: 15, lineEnd: 23, text: 'GitHub MCP ì„œë²„ì…ë‹ˆë‹¤. PR, ì´ìŠˆ, ë¦¬ë·° ë“± GitHub APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. GITHUB_TOKEN í™˜ê²½ ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.' },
    { lineStart: 24, lineEnd: 32, text: 'PostgreSQL MCP ì„œë²„ì…ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. disabled: trueë¡œ ê¸°ë³¸ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.' },
    { lineStart: 40, lineEnd: 45, text: 'Fetch MCP ì„œë²„ì…ë‹ˆë‹¤. ì™¸ë¶€ API í˜¸ì¶œì´ë‚˜ ì›¹ ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
  ]}
/>

## ê¶Œì¥ MCP ì„œë²„

| ì„œë²„ | ìš©ë„ | í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ |
|------|------|---------------|
| **filesystem** | íŒŒì¼ ì½ê¸°/ì“°ê¸° | ì—†ìŒ |
| **git** | Git ì‘ì—… | ì—†ìŒ |
| **github** | GitHub API (PR, ì´ìŠˆ) | `GITHUB_TOKEN` |
| **postgres** | PostgreSQL ì¿¼ë¦¬ | `DATABASE_URL` |
| **sqlite** | SQLite ì¿¼ë¦¬ | ì—†ìŒ (DB ê²½ë¡œ ì§€ì •) |
| **fetch** | HTTP ìš”ì²­ | ì—†ìŒ |
| **puppeteer** | ë¸Œë¼ìš°ì € ìë™í™” | ì—†ìŒ |
| **slack** | Slack ì—°ë™ | `SLACK_BOT_TOKEN` |

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

<Callout type="warning" title="MCP ë³´ì•ˆ ì£¼ì˜ì‚¬í•­">
  MCP ì„œë²„ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œì— ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ë¯€ë¡œ ë³´ì•ˆì— ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
</Callout>

### ì£¼ì˜ì‚¬í•­

1. **í™˜ê²½ ë³€ìˆ˜ë¡œ ì‹œí¬ë¦¿ ê´€ë¦¬**: í† í°/í‚¤ë¥¼ .mcp.jsonì— ì§ì ‘ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”
2. **ìµœì†Œ ê¶Œí•œ ì›ì¹™**: í•„ìš”í•œ ì„œë²„ë§Œ í™œì„±í™”í•˜ì„¸ìš” (`disabled: true` í™œìš©)
3. **.mcp.jsonì€ .gitignoreì— ì¶”ê°€**: ì‹¤ì œ ì„¤ì • íŒŒì¼ì€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
4. **DB ì ‘ê·¼ ì œí•œ**: í”„ë¡œë•ì…˜ DBì— ì§ì ‘ ì—°ê²°í•˜ì§€ ë§ˆì„¸ìš”
5. **ì½ê¸° ì „ìš© ìš°ì„ **: ê°€ëŠ¥í•˜ë©´ ì½ê¸° ì „ìš© ê¶Œí•œë§Œ ë¶€ì—¬í•˜ì„¸ìš”

<CodeBlock
  code={`# .gitignoreì— ì¶”ê°€
.mcp.json

# .mcp.json.exampleì€ ì»¤ë°‹ (í…œí”Œë¦¿ìœ¼ë¡œ ì œê³µ)
!.mcp.json.example`}
  language="bash"
  filename=".gitignore ì„¤ì •"
/>

## MCP ì„¤ì • ë°©ë²•

<CodeBlock
  code={`# 1. í…œí”Œë¦¿ ë³µì‚¬
cp .mcp.json.example .mcp.json

# 2. í•„ìš”í•œ ì„œë²„ í™œì„±í™” (disabled: falseë¡œ ë³€ê²½)
# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
export GITHUB_TOKEN="ghp_your_token_here"

# 4. Claude Code ì‹¤í–‰
claude`}
  language="bash"
  filename="MCP ì„¤ì • ìˆœì„œ"
/>

<Callout type="info" title="MCP ì„¤ì • ë²”ìœ„">
  Claude Codeì—ì„œ MCP ì„œë²„ëŠ” **í”„ë¡œì íŠ¸ ë ˆë²¨**(`.mcp.json`)ê³¼ **ì‚¬ìš©ì ë ˆë²¨**(`~/.claude/settings.json`)ë¡œ êµ¬ë¶„í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ì—”í„°í”„ë¼ì´ì¦ˆì—ì„œëŠ” Managed Settingsì˜ `allowedMcpServers`/`deniedMcpServers`ë¡œ í—ˆìš© ì„œë²„ë¥¼ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

<ChapterNav
  prev={{ title: 'Hooks', path: '/docs/part-3--ai-agent-ì›Œí¬í”Œë¡œìš°-hooks' }}
  next={{ title: 'GitHub Actions', path: '/docs/part-4--mcpì™€-í†µí•©-github-actions' }}
/>
