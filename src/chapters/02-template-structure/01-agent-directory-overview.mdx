import { Meta } from '@storybook/addon-docs/blocks';
import { Callout } from '../../components/Callout';
import { FileTree } from '../../components/FileTree';
import { CodeBlock } from '../../components/CodeBlock';
import { ChapterNav } from '../../components/ChapterNav';

<Meta title="Part 2: 프로젝트 템플릿 구조/.agent 디렉토리 개요" />

# .agent/ 디렉토리 개요

> AI 에이전트를 위한 프로젝트 지식 베이스

## .agent/ 디렉토리란?

`.agent/` 디렉토리는 AI 에이전트(Claude Code, Cursor, GitHub Copilot 등)가 프로젝트를 깊이 이해하고 효과적으로 작업하기 위한 **지식 베이스**입니다. Claude Code에서는 CLAUDE.md의 `@.agent/context.md` 같은 임포트 구문으로 참조하거나, 대화 중 직접 파일을 읽어 활용합니다.

<Callout type="info" title="핵심 개념">
  CLAUDE.md가 "요약본"이라면, .agent/ 디렉토리는 "상세 매뉴얼"입니다.
  프로젝트의 아키텍처, 코딩 규칙, 프롬프트 템플릿, 스킬, 서브에이전트 등 상세 정보를 체계적으로 관리합니다.
</Callout>

## 전체 구조

<FileTree
  title=".agent/ 디렉토리 구조"
  data={[
    {
      name: '.agent/',
      type: 'folder',
      highlight: true,
      children: [
        { name: 'architecture.md', type: 'file', description: '아키텍처 설명서' },
        { name: 'commands.md', type: 'file', description: '슬래시 커맨드 가이드' },
        { name: 'context.md', type: 'file', description: '프로젝트 컨텍스트' },
        { name: 'conventions.md', type: 'file', description: '코딩 규칙' },
        { name: 'guidelines.md', type: 'file', description: 'AI 사용 가이드라인' },
        {
          name: 'prompts/',
          type: 'folder',
          description: '프롬프트 템플릿 (15개)',
          children: [
            { name: 'README.md', type: 'file', description: '프롬프트 라이브러리 개요' },
            { name: 'api-design.md', type: 'file', description: 'API 설계' },
            { name: 'bug-fix.md', type: 'file', description: '버그 수정' },
            { name: 'code-review.md', type: 'file', description: '코드 리뷰' },
            { name: 'feature-implement.md', type: 'file', description: '기능 구현' },
            { name: 'test-generation.md', type: 'file', description: '테스트 생성' },
            { name: '...', type: 'file', description: '+ 9개 더' },
          ],
        },
        {
          name: 'skills/',
          type: 'folder',
          description: '실행 가능한 스킬 (5개)',
          children: [
            { name: 'code-review.md', type: 'file', description: '/review' },
            { name: 'doc-gen.md', type: 'file', description: '/doc' },
            { name: 'refactor.md', type: 'file', description: '/refactor' },
            { name: 'security-scan.md', type: 'file', description: '/security' },
            { name: 'test-gen.md', type: 'file', description: '/test' },
          ],
        },
        {
          name: 'subagents/',
          type: 'folder',
          description: '전문 서브에이전트 (4개)',
          children: [
            { name: 'architect.md', type: 'file', description: '아키텍처 설계' },
            { name: 'documentation.md', type: 'file', description: '문서 작성' },
            { name: 'security.md', type: 'file', description: '보안 분석' },
            { name: 'test.md', type: 'file', description: '테스트 전략' },
          ],
        },
      ],
    },
  ]}
/>

## 각 파일의 역할

### 메인 설정 파일

| 파일 | 역할 | 주요 내용 |
|------|------|----------|
| `context.md` | 프로젝트 컨텍스트 | 기술 스택, 도메인 지식, 환경 정보 |
| `conventions.md` | 코딩 규칙 | 네이밍, 스타일, Git 규칙 |
| `architecture.md` | 아키텍처 | 레이어 구조, 의존성 방향, 데이터 흐름 |
| `guidelines.md` | AI 사용 가이드라인 | 허용/금지 사항, 검증 절차 |
| `commands.md` | 슬래시 커맨드 | 10개 커스텀 커맨드 정의 |

### 디렉토리별 역할

| 디렉토리 | 파일 수 | 역할 |
|----------|--------|------|
| `prompts/` | 15개 | 상황별 프롬프트 템플릿 |
| `skills/` | 5개 | 슬래시 커맨드로 실행 가능한 스킬 |
| `subagents/` | 4개 | 전문 분야별 서브에이전트 정의 |

## CLAUDE.md와의 관계

<CodeBlock
  code={`# CLAUDE.md에서 .agent/ 파일 참조
## 참고 문서
- \`.agent/context.md\` - 상세 프로젝트 컨텍스트
- \`.agent/conventions.md\` - 코딩 컨벤션 상세
- \`docs/adr/\` - 아키텍처 결정 기록`}
  language="markdown"
  filename="CLAUDE.md"
/>

<Callout type="tip" title="참조 방식">
  CLAUDE.md에 간략한 규칙을 적고, 상세 내용은 .agent/ 파일을 참조하도록 구성하면
  Claude가 필요할 때 상세 정보를 찾아볼 수 있습니다.
</Callout>

## 다른 AI 도구에서의 활용

| AI 도구 | 프로젝트 설정 파일 | .agent/ 참조 방식 |
|---------|-------------------|------------------|
| **Claude Code** | `CLAUDE.md` | `@.agent/context.md` 임포트, 대화 중 직접 파일 읽기 |
| **GitHub Copilot** | `.github/copilot-instructions.md` | 파일 참조로 컨텍스트 제공 |
| **Cursor** | `.cursorrules` | `@files`로 직접 참조 |

<Callout type="tip" title="도구 독립적인 구조">
  `.agent/` 디렉토리는 특정 AI 도구에 종속되지 않습니다.
  프로젝트 지식을 마크다운으로 관리하므로 어떤 AI 도구에서든 활용할 수 있습니다.
  Claude Code에서는 CLAUDE.md의 임포트 구문(`@.agent/context.md`)으로, Cursor에서는 `@files`로 참조합니다.
</Callout>

<ChapterNav
  prev={{ title: '엔터프라이즈 보안', path: '/docs/part-1--기초-엔터프라이즈-보안' }}
  next={{ title: '컨텍스트와 컨벤션', path: '/docs/part-2--프로젝트-템플릿-구조-컨텍스트와-컨벤션' }}
/>
