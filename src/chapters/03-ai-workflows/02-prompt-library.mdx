import { Meta } from '@storybook/addon-docs/blocks';
import { Callout } from '../../components/Callout';
import { CodeBlock } from '../../components/CodeBlock';
import { ComparisonTable } from '../../components/ComparisonTable';
import { ChapterNav } from '../../components/ChapterNav';

<Meta title="Part 3: AI Agent 워크플로우/프롬프트 라이브러리" />

# 프롬프트 라이브러리

> 상황별 최적화된 프롬프트 템플릿 모음

## 개요

프롬프트 라이브러리는 이 프로젝트 템플릿의 `.agent/prompts/` 디렉토리에 저장된 **14개의 프롬프트 템플릿**입니다. 각 템플릿은 특정 개발 작업에 최적화된 구조화된 프롬프트를 제공합니다. (`.agent/`는 이 템플릿의 자체 컨벤션이며, AI 도구가 자동으로 읽는 공식 표준 경로가 아닙니다.)

<Callout type="info" title="왜 프롬프트 라이브러리가 필요한가?">
  매번 프롬프트를 처음부터 작성하면 품질이 들쭉날쭉합니다.
  검증된 템플릿을 재사용하면 일관된 고품질 결과를 얻을 수 있습니다.
</Callout>

## 카테고리별 분류

### 설계 (Design)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| API 설계 | `api-design.md` | REST/GraphQL API 엔드포인트 설계 |
| DB 스키마 | `database-schema.md` | 데이터베이스 스키마 설계 |
| 아키텍처 결정 | `architecture-decision.md` | ADR(Architecture Decision Record) 작성 |

### 구현 (Implementation)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| 기능 구현 | `feature-implement.md` | 새 기능 구현 |
| 버그 수정 | `bug-fix.md` | 버그 원인 분석 및 수정 |
| 리팩토링 | `refactor.md` | 코드 개선 및 리팩토링 |

### 검토 (Review)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| 코드 리뷰 | `code-review.md` | 코드 리뷰 수행 |
| 보안 검토 | `security-review.md` | 보안 취약점 분석 |
| 성능 검토 | `performance-review.md` | 성능 이슈 분석 |

### 테스트 (Test)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| 테스트 생성 | `test-generation.md` | 단위/통합/E2E 테스트 생성 |

### 마이그레이션 (Migration)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| 마이그레이션 | `migration.md` | DB/코드 마이그레이션 |
| 의존성 업그레이드 | `upgrade-dependency.md` | 라이브러리 버전 업그레이드 |

### 문서 (Documentation)

| 프롬프트 | 파일 | 용도 |
|----------|------|------|
| API 문서 | `api-docs.md` | API 문서 작성 |
| README 생성 | `readme-gen.md` | README 생성/업데이트 |

## 프롬프트 구조 패턴

모든 프롬프트 템플릿은 다음 공통 구조를 따릅니다:

<CodeBlock
  code={`# 프롬프트 제목

## 목적 (Purpose)
이 프롬프트가 해결하는 문제

## 컨텍스트 (Context)
### 입력 정보
- 필수: 대상 파일/모듈
- 선택: 추가 요구사항

## 지시사항 (Instructions)
### Step 1: 분석
- 기존 코드 분석
- 패턴 파악

### Step 2: 실행
- 구체적 작업 지시
- 제약사항 명시

### Step 3: 검증
- 결과물 검증 기준

## 출력 형식 (Output Format)
\`\`\`
[기대하는 출력 형식]
\`\`\`

## 예시 (Examples)
[구체적인 입출력 예시]`}
  language="markdown"
  filename="프롬프트 공통 구조"
/>

## 대표 프롬프트 분석: feature-implement.md

<CodeBlock
  code={`# 기능 구현 프롬프트

## 목적
새로운 기능을 프로젝트의 아키텍처와 컨벤션에 맞게 구현

## 컨텍스트
### 필수 입력
- 기능 요구사항 (상세)
- 관련 도메인 엔터티
- 영향받는 레이어

### 참조 파일
- .agent/architecture.md
- .agent/conventions.md

## 지시사항
1. 요구사항 분석 및 설계
2. Domain Layer 구현 (Entity, Value Object)
3. Application Layer 구현 (Use Case)
4. Infrastructure Layer 구현 (Repository)
5. Presentation Layer 구현 (Controller, DTO)
6. 테스트 코드 작성
7. 문서 업데이트

## 출력
- 레이어별 소스 코드
- 테스트 코드
- API 문서 업데이트`}
  language="markdown"
  filename="feature-implement.md (요약)"
/>

## 프롬프트 활용 팁

<Callout type="tip" title="효과적인 활용법">
  1. **그대로 사용하지 말고 커스터마이즈**: 프로젝트 특성에 맞게 수정하세요
  2. **컨텍스트를 충분히 제공**: 관련 파일 경로, 기존 패턴 명시
  3. **제약사항을 명확히**: "~하지 마라"를 명시하면 품질이 올라갑니다
  4. **출력 형식을 지정**: 원하는 결과물의 형태를 구체적으로 요구하세요
</Callout>


<ChapterNav
  prev={{ title: '슬래시 커맨드', path: '/docs/part-3--ai-agent-워크플로우-슬래시-커맨드' }}
  next={{ title: '스킬', path: '/docs/part-3--ai-agent-워크플로우-스킬' }}
/>
